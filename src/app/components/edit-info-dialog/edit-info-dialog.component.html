<h1 mat-dialog-title>Edit info</h1>

<div mat-dialog-content>
  <form [formGroup]="editInfoForm">
    <p>
      <mat-form-field class="left-field" appearance="outline">
        <mat-label>First Name</mat-label>
        <input matInput maxlength="30" formControlName="firstName" required [ngModel]="data.firstName">
        <mat-error>
          {{editInfoForm.controls['firstName'].value
          ? 'First Name must be at least 5 characters'
          : 'You must enter a First Name'}}
        </mat-error>
      </mat-form-field>
    </p>

    <p>
      <mat-form-field class="right-field" appearance="outline">
        <mat-label>Last Name</mat-label>
        <input matInput maxlength="30" formControlName="lastName" required [ngModel]="data.lastName">
        <mat-error>
          {{editInfoForm.controls['lastName'].value
          ? 'Last Name must be at least 5 characters'
          : 'You must enter a Last Name'}}
        </mat-error>
      </mat-form-field>
    </p>

    <p>
      <mat-form-field class="field" appearance="outline">
        <mat-label>About myself</mat-label>
        <textarea class="about" rows="4" maxlength="280" formControlName="aboutMyself" matInput
                  [ngModel]="data.profileDescription"></textarea>
      </mat-form-field>
    </p>
  </form>

  <label for="file">Choose avatar to upload</label>
  <div class="form-group">
    <input type="file"
           id="file"
           accept=".png"
           (change)="handleFileInput($event.target.files)"
           style="visibility: hidden">
  </div>
</div>

<div mat-dialog-actions>
  <button mat-raised-button
          [disabled]="!editInfoForm.valid || !isChangeFields() && !avatar"
          (click)="changeInfo()">
    Change
  </button>
</div>
